# TapCanvas

**Language:** ä¸­æ–‡ | [English](README_EN.md)

**å¯è§†åŒ– AI åˆ›ä½œç”»å¸ƒï¼ˆé›¶ GPUï¼‰**

æºç åˆ†æï¼š[deepwiki](https://deepwiki.com/anymouschina/TapCanvas)

## ğŸ“ ç®€ä»‹

TapCanvas é¡¹ç›®ä¸»è¦é’ˆå¯¹ Sora 2 åšäº†ä¸“é—¨çš„ç”»å¸ƒèƒ½åŠ›ä¼˜åŒ–ï¼Œæ”¯æŒç›´æ¥ Remix é“¾å¼è°ƒç”¨ï¼Œå®ç°å¤šè´¦å·å…±äº«ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå®Œç¾ç•™ä¸‹è‡ªå·±çš„åˆ›ä½œç—•è¿¹ã€‚ä½†æˆ‘ä»¬çš„è¿œä¸æ­¢äºæ­¤ï¼š

**ğŸ¨ åˆ›æ–°çš„å¯è§†åŒ–å·¥ä½œæµ**

- é¦–åˆ›å°†å¤æ‚AIåˆ›ä½œæµç¨‹è½¬åŒ–ä¸ºç›´è§‚çš„èŠ‚ç‚¹è¿çº¿æ“ä½œ
- æ”¯æŒæ–‡ç”Ÿå›¾â†’å›¾ç”Ÿè§†é¢‘â†’è§†é¢‘åˆæˆçš„å®Œæ•´åˆ›ä½œé“¾è·¯
- æ™ºèƒ½ç±»å‹åŒ¹é…ç³»ç»Ÿï¼Œè‡ªåŠ¨é˜²æ­¢é”™è¯¯è¿æ¥ï¼Œè®©åˆ›ä½œæ›´å¯é 

**âš¡ å¼ºå¤§çš„ç”»å¸ƒäº¤äº’ä½“éªŒ**

- åŸºäºReact Flowçš„é«˜æ€§èƒ½æ¸²æŸ“ï¼Œæ”¯æŒå¤æ‚å·¥ä½œæµæµç•…æ“ä½œ
- ç‹¬æœ‰çš„ç»„èšç„¦æ¨¡å¼ï¼Œè®©å¤§å‹é¡¹ç›®ä¹Ÿèƒ½æ¸…æ™°ç®¡ç†
- æ™ºèƒ½è¾…åŠ©è¿æ¥ï¼Œä»æ–‡æœ¬/å›¾ç‰‡èŠ‚ç‚¹æ‹–æ‹½å³å¯å¿«é€Ÿåˆ›å»ºä¸‹ä¸€ç¯èŠ‚

**ğŸ§  æ™ºèƒ½åŒ–åˆ›ä½œè¾…åŠ©**

- é›†æˆGemini 2.5è¿›è¡Œæç¤ºè¯ä¼˜åŒ–å’Œæ™ºèƒ½å»ºè®®
- æ”¯æŒå†å²æç¤ºè¯å¤ç”¨ï¼Œé¿å…é‡å¤æ€è€ƒ
- Sora2è§’è‰²@æåŠåŠŸèƒ½ï¼Œç²¾å‡†æ§åˆ¶è§†é¢‘è§’è‰²

**ğŸ”§ ä¼ä¸šçº§å·¥ç¨‹èƒ½åŠ›**

- é›¶GPUè¦æ±‚ï¼Œå…¨éƒ¨è®¡ç®—ä¾èµ–äº‘ç«¯APIï¼Œè½»é‡åŒ–éƒ¨ç½²
- æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œæ˜“äºæ‰©å±•æ–°çš„AIæ¨¡å‹å’ŒåŠŸèƒ½
- å®Œæ•´çš„é¡¹ç›®ç®¡ç†å’Œèµ„äº§æ²»ç†ä½“ç³»

é€šè¿‡å¯è§†åŒ–å·¥ä½œæµçš„æ–¹å¼ï¼Œæˆ‘ä»¬ä¸ä»…é™ä½äº†AIè§†é¢‘åˆ›ä½œçš„é—¨æ§›ï¼Œæ›´ä¸ºåˆ›ä½œè€…æä¾›äº†ä¸€ä¸ªä¸“ä¸šã€é«˜æ•ˆçš„åˆ›ä½œå¹³å°ã€‚

## ğŸ–¼ï¸ åŠŸèƒ½é¢„è§ˆ

![åŠŸèƒ½é¢„è§ˆ](assets/feature.jpg)

TapCanvas çš„å¯è§†åŒ–ç”»å¸ƒç•Œé¢å±•ç¤ºäº†å¼ºå¤§çš„ AI åˆ›ä½œå·¥ä½œæµèƒ½åŠ›ï¼šä»æ–‡æœ¬æç¤ºè¯å¼€å§‹ï¼Œé€šè¿‡æ™ºèƒ½è¿æ¥ç”Ÿæˆå›¾åƒå’Œè§†é¢‘å†…å®¹ï¼Œå®ç°å®Œæ•´çš„åˆ›æ„åˆ°ä½œå“çš„è½¬åŒ–è¿‡ç¨‹ã€‚

### ğŸ¤– è‡ªåŠ¨è§’è‰²å¼•ç”¨ï¼ˆAuto Role Mentionsï¼‰

![è‡ªåŠ¨æ›¿æ¢è§’è‰²å¼•ç”¨](assets/2025-11-24-auto-role-username.jpg)

- åœ¨åŒä¸€ä¸ªå·¥ä½œæµä¸­è¿æ¥è§’è‰²èŠ‚ç‚¹åï¼Œè§†é¢‘/æ–‡æœ¬èŠ‚ç‚¹å¯ä¸€é”®è§¦å‘ã€Œè‡ªåŠ¨æ›¿æ¢äººç‰©åç§°ã€ï¼Œç”± LLM å°†è„šæœ¬ä¸­çš„è§’è‰²åç§°ç»Ÿä¸€æ›¿æ¢æˆè§’è‰²å¡çš„ `@username`ï¼Œå¹¶ä¿è¯å‰åå„ç•™å‡ºä¸€ä¸ªç©ºæ ¼ï¼Œé¿å…ä¸å…¶ä»–å­—ç¬¦ç²˜è¿ã€‚
- æ”¯æŒæ‰¹é‡å¤„ç†å…¨éƒ¨å…¥è¾¹è§’è‰²ï¼Œæ¨¡å‹å¯é€‰ Gemini / GLMï¼Œå®Œæˆåä¼šå°†ç»“æœåŒæ­¥åˆ° Sora æç¤ºè¯ï¼Œç¡®ä¿å¤šé•œå¤´å¼•ç”¨ä¸€è‡´ã€‚
- å¦‚æœè„šæœ¬ä¸­ç¼ºå°‘æŸä¸ªè§’è‰²ï¼Œä¹Ÿä¼šè‡ªåŠ¨è¡¥å……ä¸€æ¬¡ `@username`ï¼Œé¿å… Sora ä»»åŠ¡å›  cameo ç¼ºå¤±è€Œå¤±è´¥ã€‚

### ğŸ¬ Storyboardï¼ˆé•œå¤´æ‹†è§£ï¼‰å·¥ä½œæµ

Sora 2 æ–°å¢çš„æ•…äº‹æ¿æ¨¡å¼ï¼ŒæŠŠæ•´ä¸ªçŸ­ç‰‡æ‹†æˆä¸€æ ¼æ ¼é•œå¤´ï¼Œæ¯æ ¼éƒ½å†™æ¸…æ¥šé•œå¤´æ—¶é•¿ã€æ„å›¾ã€åŠ¨ä½œã€å°è¯ã€é•œå¤´ç§»åŠ¨ä¸æç¤ºè¯ï¼Œé€‚åˆé€é•œç”Ÿæˆåå†å‰ªè¾‘åˆæˆã€‚æ¨èæµç¨‹ï¼š

1. **å®šç›®æ ‡æ—¶é•¿**ï¼šSora 2 å•é•œå¤´é€šå¸¸ 10s å·¦å³ï¼Œå¯æ ¹æ®éœ€è¦æ‹†æˆ 2-4 é•œã€‚
2. **æ‹†é•œ**ï¼šä¸ºæ¯ä¸€é•œå†™åºå·/æ—¶é•¿/é•œå¤´ç±»å‹ï¼ˆè¿‘æ™¯/ä¸­æ™¯/è¿œæ™¯ï¼‰/åŠ¨ä½œ/æƒ…ç»ª/è½¬åœºç­‰å…³é”®ä¿¡æ¯ã€‚
3. **ç‹¬ç«‹æç¤ºè¯**ï¼šæ¯é•œæç¤ºè¯å‰ç½®é£æ ¼ï¼ˆä¾‹å¦‚ `2dæ—¥æœ¬åŠ¨æ¼«`ï¼‰ï¼Œå¹¶æ”¯æŒå¼•ç”¨è§’è‰²èŠ‚ç‚¹ `@heng`ã€`@keng`ï¼›å¦‚éœ€çœŸäºº cameoï¼Œå¯åœ¨ç½‘é¡µä¸Šä¼ è§’è‰²å¡æˆ–ç…§ç‰‡ã€‚
4. **æ³¨æ„ Sora é™åˆ¶**ï¼šApp ç‰ˆä¸€æ¬¡åªç”Ÿæˆ 10sï¼Œæ¨ªç«–å±ä¸å¯é€‰ã€é¢åº¦çº¦ 30 æ¬¡/å¤©ï¼›ä¸Šä¼ è§’è‰²è‹¥å¤±è´¥ï¼Œå¯æ›´æ¢æ¢¯å­æˆ–æ”¹ä¸ºç´ æé£é¿å…ç‰ˆæƒå®¡æŸ¥ã€‚
5. **äº§å‡ºä¸å¾®è°ƒ**ï¼šå¯¼å‡ºååœ¨æœ¬åœ°å‰ªè¾‘ï¼Œä¹Ÿå¯å‘å¸ƒåˆ° Sora åç”¨ remix åšç»†è°ƒã€‚

ç®€çŸ­ç¤ºä¾‹ï¼š

- é•œ 1ï¼š0-2s è¿‘æ™¯ï¼Œä¸»è§’æƒŠè®¶ï¼ˆæç¤ºè¯ï¼š`2dæ—¥æœ¬åŠ¨æ¼«`ï¼Œ`@heng` ç‰¹å†™ï¼Œé¢éƒ¨å…‰å½±ï¼Œæ…¢æ¨è¿‘ï¼‰
- é•œ 2ï¼š2-7s ä¸­æ™¯ï¼Œä¸¤äººå¯¹è¯ï¼ˆæç¤ºè¯ï¼š`@heng` ä¸ `@keng` åœ¨å’–å•¡åº—äº¤è°ˆï¼Œæ¸©æš–ç¯å…‰ï¼‰
- é•œ 3ï¼š7-10s æ‹‰è¿œæ”¶æŸï¼ˆæç¤ºè¯ï¼šå¹¿è§’ï¼Œå¤•é˜³ï¼Œç”µå½±æ„Ÿï¼‰

#### Storyboard ä½¿ç”¨æˆªå›¾

| è§„åˆ’é•œå¤´åˆ—è¡¨                                       | Scene è¯¦æƒ…æµ®å±‚                                       | è¿è¡Œæ—¥å¿—ä¸ç»“æœ                                               |
| -------------------------------------------------- | ---------------------------------------------------- | ------------------------------------------------------------ |
| ![Storyboard æ€»è§ˆ](assets/2025-11-24-storyboard.jpg) | ![Storyboard å¼¹å±‚](assets/2025-11-24-storyboard-1.jpg) | ![Storyboard è¿è¡Œç»“æœ](assets/2025-11-24-storyboard-2.pic.jpg) |

## ğŸ“… æ›´æ–°æ—¥å¿—

- **2025-11-24**ï¼šæ·»åŠ æœ€æ–° Storyboard ä½¿ç”¨æˆªå›¾ï¼ˆ`assets/2025-11-24-storyboard*.jpg`ï¼‰ï¼Œå±•ç¤ºé•œå¤´åˆ—è¡¨ã€Scene ç¼–è¾‘æµ®å±‚ä¸ç”Ÿæˆåçš„è§†é¢‘ç»“æœï¼Œå¸®åŠ©å›¢é˜Ÿå¿«é€Ÿç†è§£ 25s å¤šé•œå¤´èƒ½åŠ›ã€‚
- **2025-11-24**ï¼šæç¤ºè¯æ”¯æŒâ€œè‡ªåŠ¨ç”¨è§’è‰²å¡ username æ›¿æ¢äººç‰©åç§°â€ã€‚å½“åŒä¸€å·¥ä½œæµå­˜åœ¨è§’è‰²èŠ‚ç‚¹æ—¶ï¼Œè§†é¢‘/æ–‡æœ¬èŠ‚ç‚¹å¯ä¸€é”®æ›¿æ¢å…¨éƒ¨ `@` å¼•ç”¨ï¼Œå¹¶å°†ç»“æœåŒæ­¥ç»™ Sora æç¤ºè¯ï¼ˆæ”¯æŒ Gemini / GLM æ¨¡å‹ï¼‰ã€‚æ•ˆæœç¤ºä¾‹ï¼š![2025-11-24-auto-role-username](assets/2025-11-24-auto-role-username.jpg)
- **2025-11-23**ï¼šå®Œæˆã€ŒAI åŠ©æ‰‹è§¦å‘ â†’ å®¢æˆ·ç«¯æ‰§è¡Œç”»å¸ƒå·¥å…· â†’ ç»“æœå›ä¼ å¹¶ç»§ç»­å¯¹è¯ã€çš„é—­ç¯ã€‚ç°åœ¨æš—å¤œåŠ©æ‰‹ä¼šè®¢é˜… `/ai/tool-events`ï¼Œè‡ªåŠ¨åˆ›å»º/è¿æ¥èŠ‚ç‚¹ï¼Œå¹¶æŠŠæ‰§è¡Œç»“æœé€šè¿‡ `/ai/tools/result` å›æ¨æœåŠ¡ç«¯ã€‚é…å¥—äº¤äº’ç¤ºä¾‹è§ä¸‹å›¾ï¼š
  - æ™ºèƒ½èŠ‚ç‚¹ç”Ÿæˆç¤ºä¾‹ï¼š![2025-11-23-ai](assets/2025-11-23-ai.jpg)
  - åŠŸèƒ½äº®ç‚¹ï¼š
    - åç«¯ SSE æ¨é€ `tool-call`ï¼Œå‰ç«¯è‡ªåŠ¨è§£æ `tool-input-available` åå†æ‰§è¡Œï¼Œç¡®ä¿èŠ‚ç‚¹å‚æ•°å®Œæ•´ï¼›
    - `CanvasService` æŒ‰ç±»å‹æ˜ å°„å‡ºçœŸæ­£æ”¯æŒçš„èŠ‚ç‚¹ï¼ˆå¦‚ `video` â†’ `composeVideo`ï¼‰ï¼Œç”»å¸ƒå®æ—¶åˆ·æ–°ï¼›
    - `UseChatAssistant` åœ¨ tool-result å›ä¼ åä¼šç»§ç»­å‘èµ·ä¸‹ä¸€è½® `/ai/chat/stream`ï¼Œè®© LLM å¾—çŸ¥å·¥å…·çŠ¶æ€å¹¶ç»™å‡ºåé¦ˆã€‚
- **2025-11-21**ï¼šæ–°å¢ä¸€ç»„æœ€æ–°åŠŸèƒ½é…å›¾ï¼Œè¦†ç›–èµ„äº§/è‰ç¨¿/å·²å‘å¸ƒä½œå“ä¸è§’è‰²åˆ›å»ºæµç¨‹ï¼Œæ–‡ä»¶ä½äº `assets/2025-11-21-*.jpg`ï¼ˆå« AI æ¦‚è§ˆã€è‰ç¨¿åˆ—è¡¨ã€è§’è‰²é¢æ¿ä¸è§’è‰²åˆ›å»ºï¼‰ã€‚
  - èµ„äº§ä¸è‰ç¨¿ï¼š![2025-11-21-drafts](assets/2025-11-21-drafts.jpg)
  - è§’è‰²åˆ—è¡¨ï¼š![2025-11-21-role](assets/2025-11-21-role.jpg)
  - è§’è‰²åˆ›å»ºï¼š![2025-11-21-role-create](assets/2025-11-21-role-create.jpg)
  - AI æ¦‚è§ˆï¼š![2025-11-21-ai](assets/2025-11-21-ai.jpg)

## âš™ï¸ ä½¿ç”¨å‰é…ç½®æ¨¡å‹

**é‡è¦ï¼šåœ¨ä½¿ç”¨ TapCanvas ä¹‹å‰ï¼ŒåŠ¡å¿…å…ˆé…ç½® AI æ¨¡å‹ï¼**

![æ¨¡å‹é…ç½®](assets/setting.jpg)

### æ¨¡å‹åŠŸèƒ½å¯¹åº”å…³ç³»

ä¸åŒ AI æ¨¡å‹æ”¯æŒä¸åŒçš„èŠ‚ç‚¹ç±»å‹ï¼Œè¯·æ­£ç¡®é…ç½®ï¼š

| èŠ‚ç‚¹ç±»å‹                  | æ”¯æŒçš„æ¨¡å‹                                                                                                                                                                        | åŠŸèƒ½è¯´æ˜                                 |
| ------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------- |
| **ğŸ¬ Video èŠ‚ç‚¹**   | **Sora 2**, Runway Gen-3, Runway Gen-2, Pika Labs V2, Pika Labs V1.5, HeyGen Video, Synthesia Video, LumaLabs Dream Machine, Kaiber Video, Stable Video Diffusion           | å›¾ç”Ÿè§†é¢‘ã€æ–‡ç”Ÿè§†é¢‘ã€è§†é¢‘åˆæˆã€åŠ¨ç”»åˆ¶ä½œ   |
| **ğŸ–¼ï¸ Image èŠ‚ç‚¹** | **Qwen Image Plus**, Gemini 2.5 Flash Image, DALL-E 3, DALL-E 2, Stable Diffusion XL, Stable Diffusion V3, Midjourney V6, FLUX.1 Pro, FLUX.1 Dev, Kolors IMG, Hunyuan Image | æ–‡ç”Ÿå›¾ã€å›¾åƒç”Ÿæˆã€å¤šç§åˆ†è¾¨ç‡ã€é£æ ¼è½¬æ¢   |
| **ğŸ“ Text èŠ‚ç‚¹**    | **Gemini 2.5 Flash**, Gemini 2.5 Pro, Gemini 3 Pro Preview, Claude 3.5 Sonnet, Claude 3 Haiku, GPT-4o, GPT-4o Mini, DeepSeek V3, Moonshot V1 8K, Kimi Chat                  | æ–‡æœ¬ç”Ÿæˆã€æç¤ºè¯ä¼˜åŒ–ã€æ™ºèƒ½å»ºè®®ã€å†…å®¹åˆ›ä½œ |

### é…ç½®æ­¥éª¤

1. **æ‰“å¼€æ¨¡å‹é…ç½®é¢æ¿**ï¼šåœ¨å³ä¾§é¢æ¿ç‚¹å‡»"æ¨¡å‹é…ç½®"
2. **æ·»åŠ æä¾›å•†**ï¼šæ ¹æ®éœ€è¦æ·»åŠ  Soraã€Qwenã€Gemini æ¨¡å‹
3. **é…ç½® API å¯†é’¥**ï¼šå¡«å…¥å„å¹³å°çš„çœŸå® API å¯†é’¥
4. **æµ‹è¯•è¿æ¥**ï¼šç¡®ä¿æ¯ä¸ªæ¨¡å‹éƒ½èƒ½æ­£å¸¸è°ƒç”¨

> ğŸ’¡ **æç¤º**ï¼šåªæœ‰æ­£ç¡®é…ç½®äº†æ¨¡å‹ï¼Œå¯¹åº”çš„èŠ‚ç‚¹æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚ä¾‹å¦‚ï¼š
>
> - æƒ³è¦ç”Ÿæˆè§†é¢‘ï¼Ÿâ†’ å¿…é¡»é…ç½® **Sora 2**ã€**Runway** æˆ– **Pika** ç­‰è§†é¢‘æ¨¡å‹
> - æƒ³è¦ç”Ÿæˆå›¾ç‰‡ï¼Ÿâ†’ å¿…é¡»é…ç½® **Qwen**ã€**DALL-E**ã€**Stable Diffusion** æˆ– **FLUX** ç­‰å›¾åƒæ¨¡å‹
> - æƒ³è¦ä¼˜åŒ–æç¤ºè¯ï¼Ÿâ†’ å¿…é¡»é…ç½® **Gemini**ã€**Claude**ã€**GPT** æˆ– **DeepSeek** ç­‰æ–‡æœ¬æ¨¡å‹

### ğŸ¯ æ¨èé…ç½®ç»„åˆ

**æ–°æ‰‹æ¨èé…ç½®**ï¼š

- ğŸ“ **Text**: Gemini 2.5 Flashï¼ˆæ€§ä»·æ¯”é«˜ï¼‰
- ğŸ–¼ï¸ **Image**: Qwen Image Plus æˆ– FLUX.1 Proï¼ˆè´¨é‡å¥½ï¼‰
- ğŸ¬ **Video**: Sora 2ï¼ˆåŠŸèƒ½æœ€å¼ºï¼‰

**ä¸“ä¸šçº§é…ç½®**ï¼š

- ğŸ“ **Text**: Gemini 2.5 Pro æˆ– Claude 3.5 Sonnet
- ğŸ–¼ï¸ **Image**: DALL-E 3 æˆ– Midjourney V6
- ğŸ¬ **Video**: Runway Gen-3 æˆ– Pika Labs V2

## ğŸš€ å¿«é€Ÿè¿è¡Œ

### æ–¹æ³•ä¸€ï¼šDocker è¿è¡Œï¼ˆæ¨èï¼‰

ä½¿ç”¨ Docker å¯ä»¥å¿«é€Ÿå¯åŠ¨æ‰€æœ‰ä¾èµ–æœåŠ¡ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®æ•°æ®åº“å’Œç¼“å­˜ã€‚

```bash
# 1. å¯åŠ¨åŸºç¡€æœåŠ¡ï¼ˆPostgreSQL + Redisï¼‰
docker-compose -f docker-compose.minimal.yml up -d

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API å¯†é’¥

# 3. å®‰è£…ä¾èµ–
pnpm install

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev:web    # å‰ç«¯æœåŠ¡ (http://localhost:5173)
pnpm dev:api    # API æœåŠ¡ (http://localhost:3001)
```

**ç®¡ç†ç•Œé¢è®¿é—®ï¼š**

- æ•°æ®åº“ç®¡ç†ï¼šhttp://localhost:8080 (Adminer)
- Redis ç®¡ç†ï¼šhttp://localhost:8081 (Redis Commander)

### æ–¹æ³•äºŒï¼šæœ¬åœ°è¿è¡Œ

å¦‚æœä½ å·²ç»æœ¬åœ°å®‰è£…äº† PostgreSQL å’Œ Redisã€‚

```bash
# 1. ç¡®ä¿æœ¬åœ°æœåŠ¡è¿è¡Œ
# PostgreSQL (ç«¯å£ 5432)
# Redis (ç«¯å£ 6379)

# 2. é…ç½®æ•°æ®åº“è¿æ¥
# åˆ›å»ºæ•°æ®åº“ tapCanvas
# ä¿®æ”¹ apps/api/.env ä¸­çš„ DATABASE_URL

# 3. å®‰è£…ä¾èµ–
pnpm install

# 4. æ•°æ®åº“è¿ç§»
cd apps/api
pnpm prisma:generate
pnpm prisma:migrate

# 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev:web    # å‰ç«¯æœåŠ¡
pnpm dev:api    # API æœåŠ¡
```

### ç¯å¢ƒé…ç½®

é¡¹ç›®ä½¿ç”¨ `.env.example` ä½œä¸ºé…ç½®æ¨¡æ¿ã€‚è¯·æŒ‰ä»¥ä¸‹æ­¥éª¤é…ç½®ï¼š

```bash
# 1. å¤åˆ¶ä¸»é…ç½®æ¨¡æ¿
cp .env.example .env

# 2. ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥çœŸå®çš„ API å¯†é’¥
# å¿…éœ€é…ç½®é¡¹ï¼š
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/tapCanvas?schema=public"
GITHUB_CLIENT_ID="your_github_client_id"
GITHUB_CLIENT_SECRET="your_github_client_secret"
JWT_SECRET="your-strong-jwt-secret"
HF_TOKEN="your_huggingface_token"
SILICONFLOW_API_KEY="your_siliconflow_api_key"
SORA_API_KEY="your_sora_api_key"

# 3. API æœåŠ¡å°†è‡ªåŠ¨è¯»å–é¡¹ç›®æ ¹ç›®å½•çš„ .env æ–‡ä»¶
# å¦‚éœ€ API ä¸“ç”¨é…ç½®ï¼Œå¯åˆ›å»º apps/api/.env.local æ–‡ä»¶
```

**é‡è¦æç¤ºï¼š**

- âš ï¸ **ä¸è¦å°†çœŸå®çš„ `.env` æ–‡ä»¶æäº¤åˆ° Git** (å·²é…ç½®åœ¨ `.gitignore` ä¸­)
- ğŸ”‘ æ‰€æœ‰ API å¯†é’¥éƒ½éœ€è¦åœ¨å¯¹åº”å¹³å°æ³¨å†Œè·å–
- ğŸ“ é¡¹ç›®æä¾›ä¸¤ä¸ª `.env.example` æ¨¡æ¿ï¼šæ ¹ç›®å½•å’Œ `apps/api/` ç›®å½•
- âœ… é¡¹ç›®å·²é…ç½® `.gitignore` åªå¿½ç•¥ `.env` æ–‡ä»¶ï¼Œä½†ä¿ç•™ `.env.example` æ¨¡æ¿
- ğŸ”’ ç¡®ä¿ API å¯†é’¥å®‰å…¨ï¼Œåªåœ¨æœ¬åœ° `.env` æ–‡ä»¶ä¸­å¡«å†™çœŸå®å¯†é’¥
- ğŸ“ **API é…ç½®ç»Ÿä¸€ç®¡ç†**ï¼šæ¨èåœ¨é¡¹ç›®æ ¹ç›®å½•é…ç½® `.env`ï¼ŒAPI æœåŠ¡ä¼šè‡ªåŠ¨è¯»å–
- ğŸ” **å·²ç§»é™¤æ•æ„Ÿæ–‡ä»¶**ï¼šåŸ `apps/api/.env` æ–‡ä»¶ï¼ˆå«çœŸå®å¯†é’¥ï¼‰å·²ä»é¡¹ç›®ä¸­ç§»é™¤

**è·å– API å¯†é’¥ï¼š**

1. **GitHub OAuth**: https://github.com/settings/applications/new
2. **Hugging Face**: https://huggingface.co/settings/tokens
3. **Silicon Flow**: https://siliconflow.cn
4. **Sora API**: éœ€è¦è”ç³»è·å–è®¿é—®æƒé™

### éªŒè¯è¿è¡Œ

å¯åŠ¨æˆåŠŸåï¼Œè®¿é—®ä»¥ä¸‹åœ°å€éªŒè¯ï¼š

- **å‰ç«¯åº”ç”¨**ï¼šhttp://localhost:5173
- **API æœåŠ¡**ï¼šhttp://localhost:3001
- **API æ–‡æ¡£**ï¼šhttp://localhost:3001/api (å¦‚æœæœ‰ Swagger)

å¦‚æœçœ‹åˆ° TapCanvas çš„ç•Œé¢ï¼Œè¯´æ˜è¿è¡ŒæˆåŠŸï¼

## ğŸ¯ å¿«é€Ÿä½“éªŒ

å¦‚æœä½ æƒ³è¦å¿«é€Ÿä½“éªŒ TapCanvas çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹é¢„é…ç½®çš„æ¨¡å‹æä¾›å•†è®¾ç½®ï¼š

### æ¨¡å‹é…ç½®ç¤ºä¾‹

åœ¨åº”ç”¨çš„"æ¨¡å‹é…ç½®"é¢æ¿ä¸­ï¼Œä½ å¯ä»¥å¯¼å…¥ä»¥ä¸‹é…ç½®ç»“æ„ï¼ˆå·²ç§»é™¤æ•æ„Ÿä¿¡æ¯ï¼‰ï¼š

```json
{
  "version": "1.0.0",
  "exportedAt": "2025-11-20T02:47:29.179Z",
  "providers": [
    {
      "id": "3dd9bc5e-9e91-4572-8e45-431647524743",
      "name": "Sora",
      "vendor": "sora",
      "baseUrl": null,
      "tokens": [
        {
          "id": "e36aea87-3d86-45ce-a023-784f90bad930",
          "label": "token-1",
          "secretToken": "YOUR_SORA_API_TOKEN_HERE",
          "enabled": true,
          "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36",
          "shared": false
        }
      ],
      "endpoints": [
        {
          "id": "acbd3702-ac60-45c0-b214-c1950bd3d2d6",
          "key": "videos",
          "label": "videos åŸŸå",
          "baseUrl": "https://videos.beqlee.icu",
          "shared": false
        },
        {
          "id": "72925a18-1445-43bd-a8e8-9ef051f66ed0",
          "key": "sora",
          "label": "sora åŸŸå",
          "baseUrl": "https://sora2.beqlee.icu",
          "shared": false
        }
      ]
    },
    {
      "id": "6a77570a-b441-4ef9-877d-12a156b8a4a1",
      "name": "Qwen",
      "vendor": "qwen",
      "baseUrl": null,
      "tokens": [
        {
          "id": "139f22f3-0938-476d-b45c-d6dbd3dddcf2",
          "label": "qwen",
          "secretToken": "YOUR_QWEN_API_KEY_HERE",
          "enabled": true,
          "userAgent": null,
          "shared": false
        }
      ],
      "endpoints": []
    },
    {
      "id": "48edea28-1ebb-43b4-acb3-a4fc17aeead9",
      "name": "Gemini",
      "vendor": "gemini",
      "baseUrl": "https://generativelanguage.beqlee.icu",
      "tokens": [
        {
          "id": "af9ae30d-d5f0-4205-a095-63dc1cb67950",
          "label": "2",
          "secretToken": "YOUR_GEMINI_API_KEY_HERE",
          "enabled": true,
          "userAgent": null,
          "shared": false
        }
      ],
      "endpoints": []
    }
  ]
}
```

### å¿«é€Ÿå¼€å§‹æ­¥éª¤

1. **é…ç½® API å¯†é’¥**ï¼šå°†ä¸Šè¿°é…ç½®ä¸­çš„ `YOUR_*_API_KEY_HERE` æ›¿æ¢ä¸ºä½ çš„çœŸå® API å¯†é’¥
2. **å¯¼å…¥é…ç½®**ï¼šåœ¨æ¨¡å‹é…ç½®é¢æ¿ä¸­å¯¼å…¥ä¿®æ”¹åçš„é…ç½®
3. **åˆ›å»ºç¬¬ä¸€ä¸ªå·¥ä½œæµ**ï¼š
   - ä»å·¦ä¾§æ‹–æ‹½"æ–‡æœ¬"èŠ‚ç‚¹åˆ°ç”»å¸ƒ
   - è¾“å…¥ç®€å•çš„æç¤ºè¯ï¼Œå¦‚"ä¸€åªå¯çˆ±çš„çŒ«å’ªåœ¨èŠ±å›­é‡Œç©è€"
   - è¿æ¥"å›¾åƒ"èŠ‚ç‚¹ï¼Œé€‰æ‹© 16:9 æ¯”ä¾‹
   - ç‚¹å‡»è¿è¡ŒæŒ‰é’®å¼€å§‹ç”Ÿæˆ

### ä½“éªŒæç¤º

- ğŸ¨ **å»ºè®®å…ˆå°è¯•æ–‡ç”Ÿå›¾**ï¼šä»æ–‡æœ¬ç”Ÿæˆå›¾åƒå¼€å§‹ï¼Œäº†è§£åŸºæœ¬æµç¨‹
- ğŸ¬ **ç„¶åå°è¯•å›¾ç”Ÿè§†é¢‘**ï¼šä½¿ç”¨ç”Ÿæˆçš„å›¾åƒåˆ›å»ºè§†é¢‘å†…å®¹
- ğŸ’¡ **ä½¿ç”¨æ™ºèƒ½æç¤º**ï¼šç‚¹å‡»æ–‡æœ¬èŠ‚ç‚¹çš„"AI ä¼˜åŒ–"æŒ‰é’®è·å¾—æ›´å¥½çš„æç¤ºè¯å»ºè®®
- ğŸ“± **è°ƒæ•´å‚æ•°**ï¼šå°è¯•ä¸åŒçš„åˆ†è¾¨ç‡ã€æ—¶é•¿ç­‰å‚æ•°è®¾ç½®

## ğŸŒ ä»£ç†é…ç½®è¯´æ˜

ç”±äºå›½å†…ç½‘ç»œç¯å¢ƒçš„ä¸å¯æŠ—åŠ›å› ç´ ï¼Œéƒ¨åˆ† AI æœåŠ¡å¯èƒ½æ— æ³•ç›´æ¥è®¿é—®ã€‚æ¨èä½¿ç”¨ Cloudflare Workers å’Œ Durable Objects é…ç½®ä»£ç†æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

### å‰ç½®æ¡ä»¶

- æ³¨å†Œ Cloudflare è´¦å·ï¼šhttps://dash.cloudflare.com/
- å¯ç”¨ Durable Objects åŠŸèƒ½

### é…ç½®æ­¥éª¤

#### 1. åˆ›å»º Worker

1. ç™»å½• Cloudflare Dashboard
2. é€‰æ‹© "Workers & Pages" â†’ "Create application" â†’ "Create Worker"
3. ç»™ Worker å‘½åï¼ˆå¦‚ `tapcanvas-proxy`ï¼‰
4. ç‚¹å‡» "Deploy"

#### 2. å¯ç”¨ Durable Objects

1. åœ¨ Worker è®¾ç½®ä¸­ï¼Œæ‰¾åˆ° "Settings" â†’ "Durable Objects"
2. ç‚¹å‡» "Configure Durable Objects"
3. ç¡®è®¤å¯ç”¨è¯¥åŠŸèƒ½

#### 3. é…ç½® Worker è„šæœ¬

å°†ä»¥ä¸‹è„šæœ¬å¤åˆ¶åˆ° Worker ç¼–è¾‘å™¨ä¸­ï¼š

```javascript
import { DurableObject } from "cloudflare:workers";

export class MyDurableObject extends DurableObject {
  constructor(ctx, env) {
    super(ctx, env);
  }

  /**
   * ä½ å¯åœ¨ Durable Object å†…å®ç° fetch æ¥å“åº” Worker çš„ stub è°ƒç”¨
   */
  async fetch(request) {
    const url = new URL(request.url);
  
    // æ£€æŸ¥è¯·æ±‚çš„ User-Agent æ˜¯å¦ä¸º curl
    const userAgent = request.headers.get("User-Agent") || "";
    if (userAgent.includes("curl")) {
      return new Response("Access denied for curl requests.", { status: 403 });
    }

    // æ£€æŸ¥è¯·æ±‚çš„ accept æ˜¯å¦åŒ…å« text/html æˆ–å…¶ä»– HTML ç›¸å…³å†…å®¹
    const acceptHeader = request.headers.get("accept") || "";
    if (acceptHeader.includes("text/html") || acceptHeader.includes("application/xhtml+xml")) {
      // æ£€æŸ¥è¯·æ±‚è·¯å¾„ï¼Œå¦‚æœæ˜¯å•ç‹¬çš„ HTML é¡µé¢ï¼ˆä¾‹å¦‚ index.htmlï¼‰ï¼Œæ‹’ç»è®¿é—®
      if (url.pathname.endsWith(".html") && url.pathname === "/index.html") {
        return new Response("Access to HTML resources is forbidden.", { status: 403 });
      }
    }

    // è½¬å‘é€»è¾‘ï¼šä» Durable Object æ¥æ”¶ requestï¼Œè½¬å‘è‡³ä¸Šæ¸¸
    const upstream = new URL(request.url.replace('sora2.beqlee.icu','sora.chatgpt.com').replace('videos.beqlee.icu','videos.openai.com').replace('generativelanguage.beqlee.icu','generativelanguage.googleapis.com'));
  
    if (request.url.length < 25) {
      return;
    }

    const forwardedReq = new Request(upstream.toString(), {
      method: request.method,
      headers: request.headers,
      body: request.body,
      redirect: 'follow',
    });

    const upstreamResp = await fetch(forwardedReq);

    const ct = upstreamResp.headers.get("content-type") || "";

    // å¦‚æœè¿”å›çš„å†…å®¹æ˜¯ HTMLï¼Œç¦æ­¢è®¿é—®
    if (ct.includes("text/html")) {
      return new Response("Access to HTML resources is forbidden.", { status: 403 });
    }

    // å¦‚æœæ˜¯ JSON ç±»å‹å¤„ç† JSON æ•°æ®
    if (ct.includes("application/json")) {
      const data = await upstreamResp.json();
      const result = data;
      return new Response(JSON.stringify(result, null, 2), {
        status: upstreamResp.status,
        headers: { "content-type": "application/json; charset=utf-8" }
      });
    }

    // å¯¹äºå…¶ä»–ç±»å‹çš„å“åº”ï¼Œç›´æ¥è¿”å›åŸå§‹å“åº”
    return new Response(upstreamResp.body, {
      status: upstreamResp.status,
      headers: upstreamResp.headers
    });
  }
}

export default {
  async fetch(request, env, ctx) {
    // Worker fetch handlerï¼šå°†è¯·æ±‚ä¼ ç»™ Durable Object
    const url = new URL(request.url);
    // ä½¿ç”¨ DurableObjectNamespace ç»‘å®šåç§° â€œMY_DURABLE_OBJECTâ€
    const id = env.MY_DURABLE_OBJECT.idFromName("singleton"); // æˆ–è€…åŸºäºè·¯å¾„åç”¨ idFromName(url.pathname)
    const stub = env.MY_DURABLE_OBJECT.get(id);
    // è½¬å‘è¯·æ±‚ to Durable Object
    const resp = await stub.fetch(request);
    return resp;
  }
};

```

#### 4. ç»‘å®š Durable Object

1. åœ¨ Worker è®¾ç½®ä¸­ï¼Œæ‰¾åˆ° "Settings" â†’ "Variables"
2. æ·»åŠ  Durable Object ç»‘å®šï¼š
   - **Variable name**: `MY_DURABLE_OBJECT`
   - **Durable Object class name**: `MyDurableObject`
   - **Script name**: é€‰æ‹©ä½ åˆ›å»ºçš„ Worker è„šæœ¬

#### 5. éƒ¨ç½² Worker

1. ä¿å­˜å¹¶éƒ¨ç½² Worker è„šæœ¬
2. è®°å½• Worker çš„è®¿é—®åœ°å€ï¼š`https://your-worker-name.your-subdomain.workers.dev`

#### 6. æ›´æ–° TapCanvas é…ç½®

åœ¨ TapCanvas çš„æ¨¡å‹é…ç½®ä¸­ï¼Œå°†ç«¯ç‚¹ URL æ›´æ–°ä¸ºä½ çš„ Worker åœ°å€ï¼š

```json
{
  "endpoints": [
    {
      "key": "sora",
      "label": "sora åŸŸå",
      "baseUrl": "https://your-worker-name.your-subdomain.workers.dev"
    }
  ]
}
```

### åŸŸåæ˜ å°„è¯´æ˜

Worker è„šæœ¬ä¸­çš„åŸŸåæ˜ å°„å¦‚ä¸‹ï¼š

| ä»£ç†åŸŸå                          | çœŸå®åŸŸå                              | ç”¨é€”              |
| --------------------------------- | ------------------------------------- | ----------------- |
| `sora2.beqlee.icu`              | `sora.chatgpt.com`                  | Sora API          |
| `videos.beqlee.icu`             | `videos.openai.com`                 | OpenAI Videos API |
| `generativelanguage.beqlee.icu` | `generativelanguage.googleapis.com` | Gemini API        |

### æ•…éšœæ’é™¤

#### å¸¸è§é—®é¢˜

1. **Worker è¿”å› 403 é”™è¯¯**

   - æ£€æŸ¥ Durable Object æ˜¯å¦æ­£ç¡®ç»‘å®š
   - ç¡®è®¤ Variable name ä¸º `MY_DURABLE_OBJECT`
2. **è¯·æ±‚è¶…æ—¶**

   - æ£€æŸ¥ Worker çš„æ‰§è¡Œæ—¶é—´é™åˆ¶
   - è€ƒè™‘å‡çº§åˆ°ä»˜è´¹è®¡åˆ’è·å¾—æ›´é•¿çš„æ‰§è¡Œæ—¶é—´
3. **éƒ¨åˆ†è¯·æ±‚å¤±è´¥**

   - æ£€æŸ¥ä¸Šæ¸¸æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
   - æŸ¥çœ‹ Worker çš„æ—¥å¿—ä¿¡æ¯

#### æµ‹è¯•ä»£ç†

åˆ›å»ºæµ‹è¯•æ–‡ä»¶éªŒè¯ä»£ç†æ˜¯å¦æ­£å¸¸å·¥ä½œï¼š

```bash
# æµ‹è¯• Sora API ä»£ç†
curl -X POST "https://your-worker-name.your-subdomain.workers.dev" \
  -H "Authorization: Bearer YOUR_SORA_TOKEN" \
  -H "Content-Type: application/json"
```

### å®‰å…¨æç¤º

- ğŸ”’ å®šæœŸè½®æ¢ API å¯†é’¥
- ğŸ›¡ï¸ å¯ç”¨ Cloudflare çš„é˜²ç«å¢™è§„åˆ™
- ğŸ“Š ç›‘æ§ Worker çš„ä½¿ç”¨é‡å’Œæˆæœ¬
- ğŸ” ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç æ•æ„Ÿä¿¡æ¯

é€šè¿‡ä»¥ä¸Šé…ç½®ï¼Œä½ å¯ä»¥åœ¨å›½å†…ç¯å¢ƒä¸‹ç¨³å®šä½¿ç”¨ TapCanvas çš„å„é¡¹ AI åŠŸèƒ½ã€‚

## ğŸ“‹ å¾…åŠäº‹é¡¹

ä¸ºäº†å®ç°"ä¸€ç«™å¼è§£å†³AIGCåˆ›ä½œé—®é¢˜"çš„ç›®æ ‡ï¼Œæˆ‘ä»¬æ­£åœ¨ç§¯æå¼€å‘ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

### ğŸ”¥ ä¼˜å…ˆå¼€å‘

- **Sora 2 å®Œæ•´æ¥å…¥**ï¼šå®ç°å®Œæ•´çš„ Sora 2 æ¨¡å‹é›†æˆå’Œ API è°ƒç”¨  âœ…
- **Sora 2 å»æ°´å°åŠŸèƒ½**ï¼šæä¾›æ™ºèƒ½æ°´å°ç§»é™¤å’Œè§†é¢‘æ¸…ç†åŠŸèƒ½
- **è§†é¢‘æ‹¼æ¥**ï¼šæ”¯æŒå¤šæ®µè§†é¢‘æ— ç¼æ‹¼æ¥å’Œè¿‡æ¸¡æ•ˆæœ
- **è§†é¢‘å‰ªè¾‘**ï¼šæ·»åŠ è§†é¢‘è£å‰ªã€åˆ†å‰²ã€åˆå¹¶åŸºç¡€ç¼–è¾‘åŠŸèƒ½

### ğŸ¬ è§†é¢‘åˆ›ä½œå¢å¼º

- **å¤šæ¨¡å‹è§†é¢‘ç”Ÿæˆ**ï¼šæ¥å…¥ Runwayã€Pikaã€Gen-2 ç­‰ä¸»æµè§†é¢‘æ¨¡å‹
- **é£æ ¼åŒ–è§†é¢‘**ï¼šæ”¯æŒä¸åŒè‰ºæœ¯é£æ ¼çš„è§†é¢‘ç”Ÿæˆ
- **è§†é¢‘æ¨¡æ¿**ï¼šé¢„ç½®å¸¸ç”¨è§†é¢‘æ¨¡æ¿å’Œæ•ˆæœ
- **å­—å¹•è‡ªåŠ¨ç”Ÿæˆ**ï¼šAI è¯­éŸ³è¯†åˆ«å’Œæ—¶é—´è½´å¯¹é½
- **èƒŒæ™¯éŸ³ä¹**ï¼šæ™ºèƒ½åŒ¹é…å’Œç”ŸæˆèƒŒæ™¯éŸ³ä¹

### ğŸ¨ å›¾åƒåˆ›ä½œå®Œå–„

- **å¤šæ¨¡å‹å›¾åƒç”Ÿæˆ**ï¼šæ”¯æŒ Stable Diffusionã€Midjourneyã€DALL-E ç­‰
- **å›¾åƒç¼–è¾‘å™¨**ï¼šå†…ç½®åŸºç¡€å›¾åƒç¼–è¾‘å’Œæ»¤é•œåŠŸèƒ½
- **é£æ ¼è½¬æ¢**ï¼šå›¾åƒé£æ ¼è¿ç§»å’Œè‰ºæœ¯åŒ–å¤„ç†
- **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒæ‰¹é‡å›¾åƒç”Ÿæˆå’Œå¤„ç†

### ğŸµ éŸ³é¢‘åˆ›ä½œæ¨¡å—

- **AI éŸ³ä¹ç”Ÿæˆ**ï¼šæ ¹æ®æƒ…ç»ªå’Œåœºæ™¯ç”ŸæˆèƒŒæ™¯éŸ³ä¹
- **éŸ³æ•ˆåº“**ï¼šä¸°å¯Œçš„éŸ³æ•ˆç´ æå’Œæ™ºèƒ½åŒ¹é…
- **è¯­éŸ³åˆæˆ**ï¼šå¤šè¯­è¨€ã€å¤šéŸ³è‰²çš„ TTS æœåŠ¡
- **éŸ³é¢‘ç¼–è¾‘**ï¼šæ··éŸ³ã€é™å™ªã€éŸ³é¢‘æ•ˆæœå¤„ç†

### ğŸ“ æ–‡æœ¬åˆ›ä½œè¾…åŠ©

- **å‰§æœ¬ç”Ÿæˆ**ï¼šAI è¾…åŠ©çŸ­è§†é¢‘è„šæœ¬åˆ›ä½œ
- **æ–‡æ¡ˆä¼˜åŒ–**ï¼šæ™ºèƒ½æ ‡é¢˜å’Œæè¿°ä¼˜åŒ–
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šå›½é™…åŒ–å†…å®¹å’Œç¿»è¯‘åŠŸèƒ½

### ğŸ”„ å·¥ä½œæµä¼˜åŒ–

- **æ¨¡æ¿å¸‚åœº**ï¼šå…±äº«å’Œä¸‹è½½åˆ›ä½œæ¨¡æ¿
- **è‡ªåŠ¨åŒ–è§„åˆ™**ï¼šè®¾ç½®å¤æ‚çš„è‡ªåŠ¨åŒ–åˆ›ä½œæµç¨‹
- **æ‰¹é‡ç”Ÿäº§**ï¼šä¸€æ¬¡è®¾ç½®æ‰¹é‡äº§å‡ºå†…å®¹
- **API æ¥å£**ï¼šæä¾›å¼€æ”¾ API ä¾›ç¬¬ä¸‰æ–¹é›†æˆ

### ğŸ’¼ å•†ä¸šåŒ–åŠŸèƒ½

- **å›¢é˜Ÿåä½œ**ï¼šå¤šäººåä½œç¼–è¾‘å’Œæƒé™ç®¡ç†
- **é¡¹ç›®ç®¡ç†**ï¼šå®Œæ•´çš„é¡¹ç›®ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **æˆæœ¬æ§åˆ¶**ï¼šAPI è°ƒç”¨æˆæœ¬é¢„ä¼°å’Œé¢„ç®—ç®¡ç†
- **æ•°æ®åˆ†æ**ï¼šåˆ›ä½œæ•ˆæœå’Œç”¨æˆ·è¡Œä¸ºåˆ†æ

### ğŸ¯ ç”¨æˆ·ä½“éªŒ

- **ç§»åŠ¨ç«¯é€‚é…**ï¼šå“åº”å¼è®¾è®¡å’Œç§»åŠ¨ç«¯ä¼˜åŒ–
- **å¿«æ·æ“ä½œ**ï¼šæ›´å¤šå¿«æ·é”®å’Œæ‰‹åŠ¿æ”¯æŒ
- **æ™ºèƒ½æ¨è**ï¼šåŸºäºä½¿ç”¨ä¹ æƒ¯çš„ä¸ªæ€§åŒ–æ¨è
- **æ•™ç¨‹ä½“ç³»**ï¼šå†…ç½®æ•™ç¨‹å’Œåˆ›ä½œæŒ‡å¯¼

---

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“‹ é¡¹ç›®ç®¡ç†

- **å¤šé¡¹ç›®æ”¯æŒ**ï¼šåˆ›å»ºå’Œç®¡ç†å¤šä¸ªç‹¬ç«‹é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®åŒ…å«ç‹¬ç«‹çš„å·¥ä½œæµ
- **é¡¹ç›®åˆ‡æ¢**ï¼šå¿«é€Ÿåœ¨ä¸åŒé¡¹ç›®é—´åˆ‡æ¢ï¼Œæ¯ä¸ªé¡¹ç›®ä¿æŒç‹¬ç«‹çš„å·¥ä½œç©ºé—´
- **å†å²è®°å½•**ï¼šæŸ¥çœ‹å’Œç®¡ç†åˆ›ä½œå†å²ï¼ˆå¼€å‘ä¸­ï¼‰
- **ç”¨æˆ·è´¦æˆ·**ï¼šæ”¯æŒç”¨æˆ·ç™»å½•å’Œä¸ªäººèµ„äº§ç®¡ç†

### ğŸ¨ å¯è§†åŒ–ç”»å¸ƒç¼–è¾‘å™¨

- **èŠ‚ç‚¹å¼å·¥ä½œæµ**ï¼šé€šè¿‡æ‹–æ‹½èŠ‚ç‚¹å’Œè¿æ¥çº¿æ„å»ºå¤æ‚çš„ AI ç”Ÿæˆæµç¨‹
- **æ™ºèƒ½è¿æ¥**ï¼šè‡ªåŠ¨ç±»å‹åŒ¹é…ï¼Œç¡®ä¿èŠ‚ç‚¹é—´æ•°æ®æµå‘æ­£ç¡®
- **å¤šç§èŠ‚ç‚¹ç±»å‹**ï¼š
  - **æ–‡æœ¬èŠ‚ç‚¹**ï¼šè¾“å…¥æç¤ºè¯ï¼Œæ”¯æŒ AI ä¼˜åŒ–å»ºè®®
  - **å›¾åƒèŠ‚ç‚¹**ï¼šæ–‡ç”Ÿå›¾ã€å›¾ç‰‡ä¸Šä¼ ã€å›¾ç‰‡ç¼–è¾‘
  - **è§†é¢‘èŠ‚ç‚¹**ï¼šå›¾ç”Ÿè§†é¢‘ã€æ–‡ç”Ÿè§†é¢‘ã€è§†é¢‘åˆæˆ
  - **ç»„åˆèŠ‚ç‚¹**ï¼šå°†å¤šä¸ªèŠ‚ç‚¹æ‰“åŒ…æˆå¯å¤ç”¨çš„ç»„ä»¶
- **å®æ—¶é¢„è§ˆ**ï¼šå³æ—¶æŸ¥çœ‹èŠ‚ç‚¹æ‰§è¡Œç»“æœå’Œç”Ÿæˆå†…å®¹

### ğŸ¤– AI æ¨¡å‹é›†æˆ

- **æ–‡æœ¬ç”Ÿæˆ**ï¼š

  - **Gemini 2.5 Flash / Pro**ï¼šå…ˆè¿›çš„æ–‡æœ¬ç”Ÿæˆæ¨¡å‹
  - **æ™ºèƒ½æç¤ºè¯ä¼˜åŒ–**ï¼šè‡ªåŠ¨ä¼˜åŒ–å’Œæ”¹è¿›è¾“å…¥æç¤ºè¯
  - **æ–‡æœ¬å¢å¼º**ï¼šæ”¯æŒæ–‡æœ¬ç»­å†™å’Œé£æ ¼è½¬æ¢
- **å›¾åƒç”Ÿæˆ**ï¼š

  - **Qwen Image Plus**ï¼šé«˜æ€§èƒ½å›¾åƒç”Ÿæˆæ¨¡å‹
  - **å¤šåˆ†è¾¨ç‡æ”¯æŒ**ï¼š16:9ã€1:1ã€9:16 ä¸‰ç§å¸¸ç”¨æ¯”ä¾‹
  - **æ‰¹é‡ç”Ÿæˆ**ï¼šæ”¯æŒ1-5å¼ å›¾ç‰‡åŒæ—¶ç”Ÿæˆ
  - **æ–‡ç”Ÿå›¾**ï¼šä»æ–‡æœ¬æè¿°ç”Ÿæˆé«˜è´¨é‡å›¾åƒ
- **è§†é¢‘ç”Ÿæˆ**ï¼š

  - **Sora 2**ï¼šOpenAI æœ€æ–°è§†é¢‘ç”Ÿæˆæ¨¡å‹
  - **è§’è‰²å¼•ç”¨**ï¼šæ”¯æŒ@æåŠåŠŸèƒ½ï¼Œç²¾ç¡®æ§åˆ¶è§†é¢‘è§’è‰²
  - **å¤šæ—¶é•¿é€‰é¡¹**ï¼šæ”¯æŒ10ç§’ã€15ç§’è§†é¢‘ç”Ÿæˆ
  - **å›¾ç”Ÿè§†é¢‘**ï¼šä»é™æ€å›¾åƒç”ŸæˆåŠ¨æ€è§†é¢‘
  - **æ–‡ç”Ÿè§†é¢‘**ï¼šç›´æ¥ä»æ–‡æœ¬ç”Ÿæˆè§†é¢‘å†…å®¹
- **æ¨¡å‹ç®¡ç†**ï¼š

  - **çµæ´»é…ç½®**ï¼šæ”¯æŒè‡ªå®šä¹‰æ¨¡å‹ç«¯ç‚¹å’Œå‚æ•°
  - **å¤šæä¾›å•†**ï¼šå¯é›†æˆä¸åŒAIæ¨¡å‹æä¾›å•†
  - **APIå¯†é’¥ç®¡ç†**ï¼šå®‰å…¨çš„å¯†é’¥å­˜å‚¨å’Œç®¡ç†

### ğŸ› ï¸ é«˜çº§ç¼–è¾‘åŠŸèƒ½

- **æ¨¡æ¿ç³»ç»Ÿ**ï¼š

  - ä»æœåŠ¡å™¨æµè§ˆå’Œå¼•ç”¨å·¥ä½œæµæ¨¡æ¿
  - æ”¯æŒå…¬å…±å·¥ä½œæµå’Œä¸ªäººå·¥ä½œæµ
  - æ‹–æ‹½æ¨¡æ¿åˆ°ç”»å¸ƒå¿«é€Ÿåˆ›å»º
- **èµ„äº§åº“**ï¼š

  - ç®¡ç†ä¸ªäººåˆ›ä½œçš„ç´ æèµ„äº§
  - Sora è‰ç¨¿æ”¯æŒå’Œèµ„äº§ç®¡ç†
  - æ”¯æŒç´ æåœ¨å·¥ä½œæµä¸­å¤ç”¨
- **æ™ºèƒ½è¾…åŠ©**ï¼š

  - æ™ºèƒ½è¿æ¥ç±»å‹åŒ¹é…ï¼Œé˜²æ­¢é”™è¯¯è¿æ¥
  - èŠ‚ç‚¹è‡ªåŠ¨å¸ƒå±€ç®—æ³•æ”¯æŒ
  - å³é”®èœå•å¿«æ·æ“ä½œ
- **æ¨¡å‹é…ç½®**ï¼š

  - AI æ¨¡å‹å‚æ•°é…ç½®ç•Œé¢
  - æ”¯æŒå¤šç§AIæ¨¡å‹åˆ‡æ¢

### ğŸŒ å›½é™…åŒ–æ”¯æŒ

- **å¤šè¯­è¨€ç•Œé¢**ï¼šæ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ç•Œé¢åˆ‡æ¢
- **å®æ—¶ç¿»è¯‘**ï¼šç‚¹å‡»è¯­è¨€å›¾æ ‡å³å¯åˆ‡æ¢ç•Œé¢è¯­è¨€ï¼Œæ— éœ€åˆ·æ–°é¡µé¢
- **å®Œæ•´æœ¬åœ°åŒ–**ï¼šæ‰€æœ‰ç•Œé¢å…ƒç´ ã€æç¤ºä¿¡æ¯ã€é”™è¯¯æ¶ˆæ¯å‡æ”¯æŒå¤šè¯­è¨€
- **æŒä¹…åŒ–è®¾ç½®**ï¼šè¯­è¨€é€‰æ‹©è‡ªåŠ¨ä¿å­˜ï¼Œä¸‹æ¬¡è®¿é—®ä¿æŒç”¨æˆ·åå¥½

### ğŸ¬ å†…å®¹ç”Ÿæˆå·¥ä½œæµ

- **æ–‡ç”Ÿå›¾æµç¨‹**ï¼šæ–‡æœ¬ â†’ å›¾åƒç”Ÿæˆ
- **å›¾ç”Ÿè§†é¢‘æµç¨‹**ï¼šå›¾åƒ â†’ è§†é¢‘ç”Ÿæˆ
- **æ–‡ç”Ÿè§†é¢‘æµç¨‹**ï¼šæ–‡æœ¬ â†’ è§†é¢‘ç›´æ¥ç”Ÿæˆ
- **å¤åˆæµç¨‹**ï¼šæ–‡æœ¬ â†’ å›¾åƒ â†’ è§†é¢‘ â†’ åå¤„ç†
- **å¹¶è¡Œå¤„ç†**ï¼šæ”¯æŒå¤šä¸ªèŠ‚ç‚¹åŒæ—¶æ‰§è¡Œï¼Œæé«˜æ•ˆç‡

### âŒ¨ï¸ å¿«æ·æ“ä½œ

- **é”®ç›˜å¿«æ·é”®**ï¼š
  - `Delete/Backspace`ï¼šåˆ é™¤é€‰ä¸­çš„èŠ‚ç‚¹æˆ–è¾¹
  - åŒå‡»ç©ºç™½åŒºåŸŸï¼šåœ¨èšç„¦æ¨¡å¼ä¸‹é€€å‡ºåˆ°ä¸Šä¸€å±‚çº§
- **å³é”®èœå•**ï¼š
  - èŠ‚ç‚¹å³é”®ï¼šè¿è¡Œã€åœæ­¢ã€å¤åˆ¶ã€åˆ é™¤ã€é‡å‘½åç­‰æ“ä½œ
  - è¾¹å³é”®ï¼šåˆ é™¤è¿çº¿
  - ç”»å¸ƒå³é”®ï¼šä»å›¾ç‰‡/æ–‡æœ¬ç»§ç»­åˆ›ä½œ
- **æ‹–æ‹½æ“ä½œ**ï¼š
  - æ‹–æ‹½æ¨¡æ¿/èµ„äº§åˆ°ç”»å¸ƒå¿«é€Ÿåˆ›å»ºèŠ‚ç‚¹
  - æ”¯æŒå›¾ç‰‡æ–‡ä»¶æ‹–æ‹½ä¸Šä¼ 
- **æ‰¹é‡æ“ä½œ**ï¼šæ”¯æŒå¤šé€‰èŠ‚ç‚¹è¿›è¡Œæ‰¹é‡ç¼–è¾‘å’Œæ“ä½œ

### ğŸ’¾ æ•°æ®ç®¡ç†

- **æœ¬åœ°å­˜å‚¨**ï¼šè‡ªåŠ¨ä¿å­˜å·¥ä½œè¿›åº¦åˆ°æµè§ˆå™¨
- **äº‘ç«¯åŒæ­¥**ï¼šæ”¯æŒé¡¹ç›®æ•°æ®äº‘ç«¯å¤‡ä»½
- **å¯¼å‡ºåŠŸèƒ½**ï¼š
  - å¯¼å‡ºå›¾ç‰‡ã€è§†é¢‘ç­‰ç”Ÿæˆå†…å®¹
  - å¯¼å‡ºå·¥ä½œæµé…ç½®
  - å¯¼å‡ºé¡¹ç›®æ–‡æ¡£

## ğŸŒŸ ç‰¹è‰²äº®ç‚¹

### ğŸ¯ ç”¨æˆ·ä½“éªŒ

- **é›¶å­¦ä¹ æˆæœ¬**ï¼šç›´è§‚çš„å¯è§†åŒ–ç•Œé¢ï¼Œæ— éœ€ç¼–ç¨‹åŸºç¡€
- **å®æ—¶åé¦ˆ**ï¼šèŠ‚ç‚¹æ‰§è¡ŒçŠ¶æ€å®æ—¶æ›´æ–°ï¼Œè¿›åº¦æ¡æ˜¾ç¤º
- **æ™ºèƒ½æç¤º**ï¼šæ ¹æ®ä¸Šä¸‹æ–‡æä¾›æ“ä½œå»ºè®®å’Œå‚æ•°æ¨è
- **å“åº”å¼è®¾è®¡**ï¼šé€‚é…å„ç§å±å¹•å°ºå¯¸ï¼Œæ”¯æŒç§»åŠ¨ç«¯æ“ä½œ
- **GitHub é›†æˆ**ï¼šä¸€é”®è®¿é—®é¡¹ç›®ä»“åº“ï¼Œæ–¹ä¾¿å¼€å‘è€…äº†è§£å’Œè´¡çŒ®ä»£ç 

### ğŸ”§ æŠ€æœ¯ç‰¹è‰²

- **é›¶ GPU è¦æ±‚**ï¼šå…¨éƒ¨è®¡ç®—ä¾èµ–äº‘ç«¯ AI APIï¼Œæœ¬åœ°æ— ç¡¬ä»¶è¦æ±‚
- **é«˜æ€§èƒ½æ¸²æŸ“**ï¼šåŸºäº React Flow çš„é«˜æ•ˆç”»å¸ƒæ¸²æŸ“
- **æ¨¡å—åŒ–æ¶æ„**ï¼šæ˜“äºæ‰©å±•æ–°çš„ AI æ¨¡å‹å’ŒåŠŸèƒ½
- **ç±»å‹å®‰å…¨**ï¼šä½¿ç”¨ TypeScript ç¡®ä¿ä»£ç è´¨é‡

### ğŸš€ åˆ›æ–°åŠŸèƒ½

- **æ™ºèƒ½è¿æ¥**ï¼šè‡ªåŠ¨è¯†åˆ«èŠ‚ç‚¹ç±»å‹å…¼å®¹æ€§ï¼Œé˜²æ­¢é”™è¯¯è¿æ¥
- **ç»„èšç„¦æ¨¡å¼**ï¼šæ”¯æŒå¤æ‚å·¥ä½œæµçš„åˆ†å±‚ç®¡ç†å’Œç¼–è¾‘
- **æ¨¡æ¿æ‹–æ‹½**ï¼šä»ä¾§è¾¹æ ç›´æ¥æ‹–æ‹½æ¨¡æ¿åˆ°ç”»å¸ƒå¿«é€Ÿåˆ›å»º
- **å‚æ•°ç»§æ‰¿**ï¼šèŠ‚ç‚¹é—´è‡ªåŠ¨ä¼ é€’å’Œç»§æ‰¿ç›¸å…³å‚æ•°

## ğŸ§± æ¶æ„æ¦‚è§ˆ

### å‰ç«¯æŠ€æœ¯æ ˆ

- **React 18** + **TypeScript**ï¼šç°ä»£åŒ–çš„å‰ç«¯æ¡†æ¶
- **React Flow**ï¼šå¼ºå¤§çš„èŠ‚ç‚¹ç¼–è¾‘å™¨ï¼Œæ”¯æŒå¤æ‚çš„å¯è§†åŒ–å·¥ä½œæµ
- **Mantine**ï¼šä¼˜é›…çš„ UI ç»„ä»¶åº“
- **Zustand**ï¼šè½»é‡çº§çŠ¶æ€ç®¡ç†
- **è‡ªå®šä¹‰å›½é™…åŒ–ç³»ç»Ÿ**ï¼šæ”¯æŒä¸­è‹±æ–‡ç•Œé¢åˆ‡æ¢ï¼Œå®Œæ•´æœ¬åœ°åŒ–æ”¯æŒ
- **Vite**ï¼šå¿«é€Ÿçš„æ„å»ºå·¥å…·

### åç«¯é›†æˆ

- **NestJS + Bull é˜Ÿåˆ—**ï¼šé«˜æ€§èƒ½å·¥ä½œæµç¼–æ’å’Œä»»åŠ¡ç®¡ç†
- **ç¬¬ä¸‰æ–¹ AI API**ï¼š
  - OpenAI Sora 2ï¼ˆè§†é¢‘ç”Ÿæˆï¼‰
  - Gemini 2.5ï¼ˆæ–‡æœ¬ç”Ÿæˆï¼‰
  - Qwen Image Plusï¼ˆå›¾åƒç”Ÿæˆï¼‰

### æ•°æ®å­˜å‚¨

- **æœ¬åœ°å­˜å‚¨**ï¼šæµè§ˆå™¨ localStorage ç”¨äºæ¨¡æ¿å’Œç¼“å­˜
- **äº‘ç«¯å­˜å‚¨**ï¼šS3/OSS ç”¨äºç”Ÿæˆçš„åª’ä½“æ–‡ä»¶
- **é¡¹ç›®æ•°æ®**ï¼šæ”¯æŒäº‘ç«¯åŒæ­¥å’Œå¤‡ä»½

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®

1. æ‰“å¼€ TapCanvas åº”ç”¨
2. ç‚¹å‡»é¡¹ç›®åç§°åŒºåŸŸï¼Œè¾“å…¥é¡¹ç›®åç§°
3. ä»å·¦ä¾§é¢æ¿æ‹–æ‹½ "æ–‡æœ¬" èŠ‚ç‚¹åˆ°ç”»å¸ƒ
4. åœ¨æ–‡æœ¬èŠ‚ç‚¹ä¸­è¾“å…¥æç¤ºè¯
5. è¿æ¥å…¶ä»–èŠ‚ç‚¹æ„å»ºå·¥ä½œæµ
6. ç‚¹å‡»è¿è¡ŒæŒ‰é’®å¼€å§‹ç”Ÿæˆ

### èŠ‚ç‚¹ç±»å‹è¯¦è§£

#### æ–‡æœ¬èŠ‚ç‚¹ (Text)

- ç”¨äºè¾“å…¥å’Œä¼˜åŒ–æç¤ºè¯
- æ”¯æŒ AI æ™ºèƒ½å»ºè®®
- å¯è¿æ¥åˆ°å›¾åƒå’Œè§†é¢‘ç”ŸæˆèŠ‚ç‚¹

#### å›¾åƒèŠ‚ç‚¹ (Image)

- æ”¯æŒæ–‡ç”Ÿå›¾å’Œå›¾ç‰‡ä¸Šä¼ 
- å¤šç§åˆ†è¾¨ç‡é€‰æ‹©
- æ‰¹é‡ç”ŸæˆåŠŸèƒ½

#### è§†é¢‘èŠ‚ç‚¹ (Video)

- å›¾ç”Ÿè§†é¢‘å’Œæ–‡ç”Ÿè§†é¢‘
- æ”¯æŒå¤šç§æ—¶é•¿
- è§’è‰²å¼•ç”¨åŠŸèƒ½

### å·¥ä½œæµç¤ºä¾‹

#### åŸºç¡€æ–‡ç”Ÿå›¾

```
æ–‡æœ¬èŠ‚ç‚¹ â†’ å›¾åƒèŠ‚ç‚¹
```

#### å›¾ç”Ÿè§†é¢‘

```
å›¾åƒèŠ‚ç‚¹ â†’ è§†é¢‘èŠ‚ç‚¹
```

#### å¤åˆå·¥ä½œæµ

```
æ–‡æœ¬èŠ‚ç‚¹ â†’ å›¾åƒèŠ‚ç‚¹ â†’ è§†é¢‘èŠ‚ç‚¹
```

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
TapCanvas/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/              # å‰ç«¯åº”ç”¨
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â”œâ”€â”€ canvas/   # æ ¸å¿ƒç”»å¸ƒç³»ç»Ÿï¼ˆåŒ…å«i18nå›½é™…åŒ–ï¼‰
â”‚   â”‚       â””â”€â”€ ui/       # UI ç»„ä»¶
â”‚   â””â”€â”€ api/              # API æœåŠ¡
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ cli/              # å‘½ä»¤è¡Œå·¥å…·
â”‚   â””â”€â”€ sdk/              # SDK åŒ…
```

### æ·»åŠ æ–°çš„ AI æ¨¡å‹

1. åœ¨ `apps/api/src/task/adapters` ä¸­åˆ›å»ºæ–°çš„é€‚é…å™¨
2. å®šä¹‰è¾“å…¥è¾“å‡ºæ¥å£
3. å®ç°æ¨¡å‹è°ƒç”¨é€»è¾‘
4. åœ¨å‰ç«¯æ·»åŠ å¯¹åº”çš„èŠ‚ç‚¹ç±»å‹

### è‡ªå®šä¹‰èŠ‚ç‚¹

å‚è€ƒ `apps/web/src/canvas/nodes/TaskNode.tsx` åˆ›å»ºè‡ªå®šä¹‰èŠ‚ç‚¹ç»„ä»¶ã€‚

### å›½é™…åŒ–å¼€å‘

#### ç¿»è¯‘ç³»ç»Ÿæ¶æ„

é¡¹ç›®ä½¿ç”¨è‡ªå®šä¹‰çš„å›½é™…åŒ–ç³»ç»Ÿï¼Œæ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ï¼š

```typescript
// ç¿»è¯‘å‡½æ•°
import { $, $t, useI18n } from '../canvas/i18n'

// åŸºç¡€ç¿»è¯‘
$('ç¡®å®š') // 'OK' æˆ– 'ç¡®å®š'

// å¸¦å‚æ•°çš„ç¿»è¯‘
$t('é¡¹ç›®ã€Œ{{name}}ã€å·²ä¿å­˜', { name: 'My Project' })
// "Project \"My Project\" saved" æˆ– "é¡¹ç›®ã€ŒMy Projectã€å·²ä¿å­˜"
```

#### æ·»åŠ æ–°çš„ç¿»è¯‘

1. åœ¨ `apps/web/src/canvas/i18n/index.ts` çš„ `enTranslations` å¯¹è±¡ä¸­æ·»åŠ ç¿»è¯‘ï¼š

```typescript
const enTranslations = {
  // ç°æœ‰ç¿»è¯‘...
  'æ–°çš„ä¸­æ–‡æ–‡æœ¬': 'New English Text',
  'å¸¦å‚æ•°çš„æ–‡æœ¬': 'Text with {{parameter}}',
}
```

2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘å‡½æ•°ï¼š

```tsx
import { $, $t } from '../canvas/i18n'

function MyComponent() {
  return (
    <div>
      <p>{$('æ–°çš„ä¸­æ–‡æ–‡æœ¬')}</p>
      <p>{$t('å¸¦å‚æ•°çš„æ–‡æœ¬', { parameter: 'value' })}</p>
    </div>
  )
}
```

#### è¯­è¨€åˆ‡æ¢ç»„ä»¶

ç³»ç»Ÿæä¾›ç°æˆçš„è¯­è¨€åˆ‡æ¢ç»„ä»¶ï¼Œæ”¯æŒï¼š

- ç‚¹å‡»åˆ‡æ¢ä¸­è‹±æ–‡
- è¯­è¨€åå¥½æŒä¹…åŒ–åˆ° localStorage
- å®æ—¶ç•Œé¢æ›´æ–°ï¼Œæ— éœ€åˆ·æ–°é¡µé¢
- å›¾æ ‡å’Œå·¥å…·æç¤ºæ”¯æŒ

```tsx
// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
const { currentLanguage, setLanguage, isEn, isZh } = useI18n()
```

#### æœ€ä½³å®è·µ

1. **æ‰€æœ‰ç”¨æˆ·å¯è§çš„æ–‡æœ¬éƒ½åº”è¯¥ä½¿ç”¨ç¿»è¯‘å‡½æ•°**
2. **ä¿æŒç¿»è¯‘é”®ä¸ºä¸­æ–‡åŸæ–‡**ï¼Œä¾¿äºç»´æŠ¤å’Œç†è§£
3. **ä½¿ç”¨ $t() å¤„ç†å¸¦å‚æ•°çš„æ–‡æœ¬**ï¼Œä½¿ç”¨ $() å¤„ç†ç®€å•æ–‡æœ¬
4. **åœ¨æ·»åŠ æ–°åŠŸèƒ½æ—¶åŒæ­¥æ·»åŠ å¯¹åº”çš„è‹±æ–‡ç¿»è¯‘**
5. **æµ‹è¯•ä¸¤ç§è¯­è¨€ä¸‹çš„ç•Œé¢å¸ƒå±€**ï¼Œç¡®ä¿æ–‡æœ¬é•¿åº¦å˜åŒ–ä¸å½±å“ç¾è§‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘æµç¨‹

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. æäº¤æ›´æ”¹
4. å‘èµ· Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript
- éµå¾ª ESLint è§„åˆ™
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ”— ç›¸å…³é“¾æ¥

- [GitHub ä»“åº“](https://github.com/anymouschina/TapCanvas)
- [é—®é¢˜åé¦ˆ](https://github.com/anymouschina/TapCanvas/issues)
- [åŠŸèƒ½å»ºè®®](https://github.com/anymouschina/TapCanvas/discussions)

---

**è®© AI åˆ›ä½œå˜å¾—ç®€å•è€Œå¼ºå¤§ï¼** ğŸ¨âœ¨

## ğŸ’¬ äº¤æµç¤¾åŒº

### ç”¨æˆ·äº¤æµç¾¤

æ¬¢è¿åŠ å…¥æˆ‘ä»¬çš„ç”¨æˆ·äº¤æµç¾¤ï¼Œä¸å…¶ä»–åˆ›ä½œè€…ä¸€èµ·åˆ†äº«ç»éªŒã€äº¤æµæŠ€å·§/åé¦ˆé—®é¢˜/æäº¤éœ€æ±‚ï¼š

![äº¤æµç¾¤](assets/group.jpg)

### è”ç³»ä½œè€…

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ã€å»ºè®®æˆ–åˆä½œæ„å‘ï¼Œæ¬¢è¿ç›´æ¥è”ç³»ä½œè€…ï¼š

![è”ç³»ä½œè€…](assets/author.jpg)

---
